{% extends "plantillaadministrador.html" %}
{% load static %}
{% block contener %}

<style>
  .grafico-row {
    display: flex;
    justify-content: center;
    margin-top: 30px;
  }

  .grafico-card {
    width: 80%;
    max-width: 700px;
    background: #ffffff;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
</style>

<div class="grafico-row">
  <div class="grafico-card">
    <h2 style="text-align:center; margin-bottom:20px;">
      Viaje m√°s repetido por usuario
    </h2>
    <canvas id="kpi1"></canvas>
  </div>
</div>

<div class="grafico-row">
  <div class="grafico-card">
    <h2 style="text-align:center; margin-bottom:20px;">
      Consumo total de combustible por usuario
    </h2>
    <canvas id="kpi2"></canvas>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx1 = document.getElementById('kpi1');

  new Chart(ctx1, {
    type: 'bar',
    data: {
      labels: {{ kpi1_labels|safe }},
      datasets: [{
        label: 'Cantidad de veces',
        data: {{ kpi1_data|safe }},
        backgroundColor: [
          '#4e79a7',
          '#f28e2b',
          '#e15759',
          '#76b7b2',
          '#59a14f',
          '#edc948',
          '#b07aa1',
          '#ff9da7'
        ],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      scales: {
        x: {
          ticks: {
            display: false
          }
        },
        y: {
          beginAtZero: true
        }
      }
    }
  });


const ctx2 = document.getElementById('kpi2');

new Chart(ctx2, {
  type: 'line',
  data: {
    labels: {{ kpi2_labels|safe }},
    datasets: [{
      label: 'Litros consumidos',
      data: {{ kpi2_data|safe }},
      backgroundColor: '#59a14f',
      borderWidth: 1
    }]
  },
  options: {
    responsive: true,
    scales: {
      x: {
        ticks: {
          display: false      
        }
      },
      y: {
        beginAtZero: true,
        title: {
          display: true,
          text: 'Litros'
        }
      }
    }
  }
});


</script>

{% endblock %}
